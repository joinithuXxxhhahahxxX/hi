javascript:(function()%7B(function() %7Bvar tri %3D %7Bmenu%3A document.createElement("div")%2Climit%3A document.createElement("input")%2Cgap%3A document.createElement("input")%2Csag%3A document.createElement("input")%2Cfov%3A document.createElement("input")%2Cflo%3A document.createElement("input")%2Coff%3A document.createElement("input")%2Cnon%3A document.createElement("input")%2Cend%3A document.createElement("input")%2Ctgl%3A document.createElement("input")%2CcssStatic%3A document.createElement("style")%2CcssDynamic%3A document.createElement("style")%2Corientation%3A %7B"yaw"%3A 0%2C "pitch"%3A 0%2C "roll"%3A 0%7D%2CmouseMove%3A function(e) %7Btri.orientation.yaw %3D -Math.cos(Math.PI * e.clientX %2F innerWidth) * 180 * tri.limit.value%3Btri.orientation.pitch %3D Math.cos(Math.PI * e.clientY %2F innerHeight) * 180 * tri.limit.value%3Btri.updateBody()%3B%7D%2CgyroMove%3A function(e) %7Bvar landscape %3D innerWidth > innerHeight%3Bif (landscape) %7Btri.orientation.yaw %3D -(e.alpha %2B e.beta)%3Btri.orientation.pitch %3D e.gamma - Math.sign(90 - Math.abs(e.beta)) * 90%3B%7Delse %7Btri.orientation.yaw %3D -(e.alpha %2B e.gamma)%3Btri.orientation.pitch %3D e.beta - 90%3B%7Dtri.updateBody()%3B%7D%2CupdateOrigin%3A function(e) %7Bdocument.body.style.transformOrigin %3D (innerWidth %2F 2 %2B pageXOffset) %2B "px " %2B (innerHeight %2F 2 %2B pageYOffset) %2B "px"%3B%7D%2CupdateBody%3A function() %7Bdocument.body.style.transform %3D "perspective(" %2B Math.pow(2%2C tri.fov.value) %2B "px) translateZ(-" %2B tri.gap.value %2B "px) rotateX(" %2B tri.orientation.pitch %2B "deg) rotateY(" %2B tri.orientation.yaw %2B "deg)"%3B%7D%2CupdateCSS%3A function() %7Bif (tri.non.checked)tri.cssDynamic.innerHTML %3D ""%3Belse if (tri.off.checked)tri.cssDynamic.innerHTML %3D "* %7B transform-style%3A preserve-3d%3B %7D"%3Belse %7Bfor (var depth %3D 0%3B document.querySelector("body" %2B " > *".repeat(depth))%3B depth%2B%2B)%3Bvar gap %3D tri.gap.value %2F depth%3Bvar sag %3D -Math.PI * tri.sag.value %2F depth%3Btri.cssDynamic.innerHTML %3D %60* %7Btransform%3A translateZ(%24%7Bgap%7Dpx) rotateX(%24%7Bsag%7Drad)%3Btransform-style%3A preserve-3d%3Btransition%3A transform 1s%3Boutline%3A 1px solid rgba(0%2C 0%2C 0%2C 0.0625)%3B%24%7Btri.flo.checked %3F "overflow%3A visible !important%3B" %3A ""%7D%7D*%3Ahover %7Btransform%3A translateZ(%24%7Bgap * 2%7Dpx) rotateX(%24%7Bsag * 2%7Drad)%3B%24%7B!tri.flo.checked %3F "overflow%3A visible%3B" %3A ""%7D%7D%60%3B%7D%7D%2Ctoggle%3A function() %7Bif (tri.menu.className %3D%3D "active") %7Btri.menu.removeAttribute("class")%3B%7Delse %7Btri.menu.className %3D "active"%3B%7D%7D%2Cquit%3A function() %7Bwindow.removeEventListener("deviceorientation"%2C tri.gyroMove)%3Bwindow.removeEventListener("mousemove"%2C tri.mouseMove)%3Bwindow.removeEventListener("scroll"%2C tri.updateOrigin)%3Bwindow.addEventListener("resize"%2C tri.updateOrigin)%3Btri.menu.remove()%3Btri.cssStatic.remove()%3Btri.cssDynamic.remove()%3Bdocument.body.removeAttribute("style")%3B%7D%2CnewRange%3A function(e%2C label%2C min%2C step%2C max%2C value%2C f) %7Btri.menu.appendChild(e)%3Be.type %3D "range"%3Be.min %3D min%3Be.max %3D max%3Be.step %3D step%3Be.value %3D value%3Be.addEventListener("input"%2C f)%3Btri.menu.appendChild(document.createElement("span")).innerHTML %3D label%3Btri.menu.appendChild(document.createElement("br"))%3B%7D%2CnewCheckbox%3A function(e%2C label%2C f) %7Btri.menu.appendChild(e)%3Be.type %3D "checkbox"%3Be.addEventListener("click"%2C f)%3Btri.menu.appendChild(document.createElement("span")).innerHTML %3D label%3Btri.menu.appendChild(document.createElement("br"))%3B%7D%2CnewButton%3A function(e%2C label%2C f) %7Btri.menu.appendChild(e)%3Be.type %3D "button"%3Be.value %3D label%3Be.addEventListener("click"%2C f)%3B%7D%2Cinit%3A function() %7Bdocument.body.parentNode.appendChild(tri.menu).id %3D "tri-menu"%3Btri.newRange(tri.limit%2C "limit"%2C 0%2C 0.03125%2C 1%2C 0.125%2C tri.updateBody)%3Btri.newRange(tri.gap%2C "gap %2F distance"%2C 0%2C 32%2C 512%2C 128%2C function() %7Btri.updateCSS()%3Btri.updateBody()%3B%7D)%3Btri.newRange(tri.sag%2C "sag"%2C -0.25%2C 0.03125%2C 0.25%2C 0%2C tri.updateCSS)%3Btri.newRange(tri.fov%2C "field of view"%2C 7%2C 1%2C 13%2C 10%2C tri.updateBody)%3Btri.newCheckbox(tri.flo%2C "force overflow"%2C tri.updateCSS)%3Btri.flo.setAttribute("checked"%2C "")%3Btri.newCheckbox(tri.off%2C "flatten layers"%2C tri.updateCSS)%3Btri.newCheckbox(tri.non%2C "flatten everything"%2C tri.updateCSS)%3Btri.newButton(tri.end%2C "Quit"%2C tri.quit)%3Btri.newButton(tri.tgl%2C "%E2%89%A1"%2C tri.toggle)%3Btri.tgl.id %3D "tri-toggle"%3Btri.menu.appendChild(tri.cssStatic).innerHTML %3D %60html%2C body %7Btransition-property%3A none%3Bheight%3A 100%25%3Bwidth%3A 100%25%3B%7Dhtml%2C html%3Ahover%2C %23tri-menu%2C %23tri-menu > *%2C %23tri-menu > *%3Ahover %7Btransform%3A none%3Boutline%3A none%3Boverflow%3A auto !important%3Bfloat%3A none%3B%7D%23tri-menu %7Bposition%3A fixed%3Btop%3A 0%3Bleft%3A 0%3Bbackground%3A rgba(0%2C 0%2C 0%2C 0.5)%3Bcolor%3A white%3Bborder%3A 1px solid rgba(255%2C 255%2C 255%2C 0.5)%3B%3Bborder-radius%3A 0 0 16px 0%3Bpadding%3A 8px%3Btransform%3A translate(-100%25%2C -100%25) translate(32px%2C 32px)%3B%7D%23tri-menu.active %7Btransform%3A none%3B%7D%23tri-toggle %7Bposition%3A absolute%3Bbottom%3A 0%3Bright%3A 0%3Bheight%3A 32px%3Bwidth%3A 32px%3Bbackground%3A transparent%3Bcolor%3A white%3Bborder%3A none%3Bcursor%3A pointer%3B%7D%23tri-menu.active > %23tri-toggle %7Bbackground%3A white%3Bcolor%3A black%3Bborder-radius%3A 8px 0 0 0%3B%7D%60%3Btri.menu.appendChild(tri.cssDynamic)%3Btri.updateCSS()%3Bwindow.addEventListener("deviceorientation"%2C tri.gyroMove)%3Bwindow.addEventListener("mousemove"%2C tri.mouseMove)%3Bwindow.addEventListener("scroll"%2C tri.updateOrigin)%3Bwindow.addEventListener("resize"%2C tri.updateOrigin)%3Bwindow.scrollBy(0%2C 1)%3B%7D%7D%3Btri.init()%3B%7D)()%7D)()
